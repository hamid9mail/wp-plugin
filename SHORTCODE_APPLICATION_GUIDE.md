# راهنمای جامع اپلیکیشن‌ساز (The Application Builder's Guide)

این راهنمای جامع به شما نشان می‌دهد که چگونه با ترکیب شورتکدهای قدرتمند این پلتفرم، یک **اپلیکیشن تک‌صفحه‌ای (Single-Page Application)** کامل، پویا و تعاملی را مستقیماً در ویرایشگر وردپرس بسازید.

## فلسفه: وردپرس به عنوان پلتفرم ساخت اپلیکیشن

فراتر از یک سایت، شما می‌توانید با این ابزارها یک محیط کاربری یکپارچه طراحی کنید. ایده این است که به جای صفحات متعدد، کاربر در یک داشبورد مرکزی باقی بماند و تمام تعاملات (مانند دیدن دروس، انجام ماموریت‌ها، مشاهده امتیازات) به صورت پویا و بدون نیاز به رفرش صفحه انجام شود.

---

## بخش ۱: شورتکدهای ساختاری و اصلی

### شورتکد `[psychocourse_path]`
این شورتکد، کانتینر اصلی کل مسیر یا اپلیکیشن شماست.
*   **ویژگی‌ها:** `display_mode`, `path_title`, `show_progress`, `theme`.

### شورتکد `[station]`
این شورتکد، قلب سیستم و واحد اصلی سازنده اپلیکیشن شماست.

#### ویژگی‌های ماموریت (Mission Attributes)

| ویژگی | توضیحات | مثال |
| :--- | :--- | :--- |
| `mission_type` | نوع ماموریتی که کاربر برای تکمیل ایستگاه باید انجام دهد. | `mission_type="gform"` |
| `mission_target` | هدف ماموریت، بسته به نوع آن. | `mission_target="form_id:301"` |
| `gform_mode` | (فقط برای `gform`) حالت نمایش فرم را تعیین می‌کند. | `gform_mode="ultimate"` |

**انواع `mission_type` و `mission_target` مربوط به آن‌ها:**

*   `button_click`: کاربر فقط باید روی دکمه تکمیل ماموریت کلیک کند.
*   `gform`: کاربر باید یک گرویتی فرم را ارسال کند. `mission_target="form_id:1"`. **نکته مهم:** هرگز از شورتکد `[gravityform]` به صورت دستی در محتوا استفاده نکنید. افزونه به صورت خودکار فرم را بر اساس `mission_target` نمایش می‌دهد.
*   `advanced_quiz`: کاربر باید یک آزمون از ماژول آزمون‌ساز پیشرفته را تکمیل کند. `mission_target="quiz_id:exam_name"`
*   `custom_test`: یک ماموریت عمومی که با ست شدن یک متادیتای کاربری تکمیل می‌شود. `mission_target="meta_key:your_custom_flag"`
*   `purchase`: کاربر باید یک محصول ووکامرس را خریداری کند. `mission_target="product_id:123"`
*   `achieve_badge`: کاربر باید یک نشان خاص کسب کند. `mission_target="badge_id:7"`

**مقادیر ممکن برای `gform_mode`:**
*   `default`: نمایش استاندارد گرویتی فرم.
*   `conversational`: نمایش به صورت مکالمه‌ای ساده (یک سوال در هر مرحله).
*   `ultimate`: نمایش به صورت مکالمه‌ای پیشرفته با گروه‌بندی هوشمند فیلدها (کدی که شما ارائه دادید).

---

## بخش ویژه: ساخت آزمون‌های پیشرفته (نسخه ۲.۰)

این بخش به تشریح قابلیت‌های جدید و قدرتمند ماژول آزمون‌ساز می‌پردازد.

### انواع سوال جدید

ماژول آزمون‌ساز اکنون از انواع سوالات زیر پشتیبانی می‌کند:

| نوع سوال | شناسه `type` | ویژگی‌های مورد نیاز | توضیحات |
| :--- | :--- | :--- | :--- |
| چندگزینه‌ای | `mcq` | - | سوال استاندارد چند گزینه‌ای |
| **طیف لیکرت** | `likert` | `scale="5"` | یک مقیاس عددی (مثلاً ۱ تا ۵) |
| **ماتریسی** | `matrix` | `rows="..."` `columns="..."` | یک جدول با سطرها و ستون‌های مشخص |
| **رتبه‌بندی** | `ranking` | `correct_order="..."` | مرتب‌سازی گزینه‌ها با کشیدن و رها کردن |

### سیستم نمره‌دهی پیچیده (جدید)

شما اکنون می‌توانید با استفاده از ویژگی `scoring` در شورتکد `[quiz_option]` برای یک گزینه، به صورت همزمان به چند خرده‌مقیاس امتیاز مثبت یا منفی اختصاص دهید.

*   **فرمت:** `scoring="مقیاس_اول:امتیاز,مقیاس_دوم:امتیاز"`
*   **مثال:** `scoring="برونگرایی:2,ثبات_هیجانی:-1"`
    *   این گزینه ۲ امتیاز به خرده‌مقیاس "برونگرایی" اضافه و ۱ امتیاز از خرده‌مقیاس "ثبات_هیجانی" کم می‌کند.

---

## مثال جامع: چیدمان یک صفحه اپلیکیشن کامل

```html
<!-- ردیف اول: هدر و داشبورد کاربر -->
[psych_gamified_header]
<hr>

<!-- ردیف دوم: محتوای اصلی و نوار کناری -->
<div style="display: flex;">

    <!-- ستون اصلی (۷۰٪ عرض) -->
    <div style="flex: 7; padding-left: 20px;">
        <h3>مسیر آموزشی شما</h3>
        [psychocourse_path display_mode="accordion" path_title="دوره جامع بازاریابی دیجیتال"]

            [station station_node_id="intro" title="۱. خوش آمدید!" mission_type="button_click" rewards="add_points:10"]
                [mission_content]<p>برای شروع، روی دکمه زیر کلیک کنید.</p>[/mission_content]
                [result_content]<p>عالی بود!</p>[/result_content]
            [/station]

            [station
                station_node_id="gform_mission"
                title="۲. تکمیل فرم ارزیابی"
                mission_type="gform"
                mission_target="form_id:301"
                gform_mode="ultimate"
            ]
                [mission_content]
                    <p>لطفا فرم زیر را با دقت تکمیل نمایید. این فرم به صورت مکالمه‌ای پیشرفته نمایش داده می‌شود.</p>
                [/mission_content]
                [result_content]
                    <p>از شما برای تکمیل فرم سپاسگزاریم!</p>
                [/result_content]
            [/station]

        [/psychocourse_path]
    </div>

    <!-- نوار کناری (۳۰٪ عرض) -->
    <div style="flex: 3;">
        <h4><i class="fas fa-trophy"></i> کاربران برتر</h4>
        [psych_leaderboard]
    </div>
</div>
```
